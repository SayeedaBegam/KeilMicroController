

#include<lpc21xx.h>

void delay_ff()
{
 unsigned int b,v;
 for(b=0;b<600;b++)
 for(v=0;v<100;v++);
}

void delay_pf(unsigned int x)
 {
 unsigned int i,j;
 for(i=0;i<x;i++)
 for(j=0;j<153;j++);
 }

void delay_fv(unsigned int x,int y)
 {
 unsigned int i,j;
 for(i=0;i<x;i++)
 for(j=0;j<y;j++);
 }

#define LCD (0xff<<8)
#define RS (1<<5)
#define RW (1<<6)
#define EN (1<<7)
#define CS1 (1<<3)
#define CS2 (1<<4)
#define RST (1<<16)
void lcd_display(unsigned int x)
 {
 IO0CLR|=(RS|RW|EN|LCD);
 IO0SET|=(x<<8);
 IO0SET|=RS;
 IO0CLR|=RW;
 IO0SET|=EN;
 delay_fv(10,10);
 IO0CLR|=EN;
 delay_fv(10,10);
 }
void cmd(unsigned char m)
 {
 IO0CLR|=(RS|RW|EN|LCD);
 IO0SET|=(m<<8);
 IO0CLR|=RS;
 IO0CLR|=RW;
 IO0SET|=EN;
 delay_fv(10,10);
 IO0CLR|=EN;
 delay_fv(10,10);
 }
void page_sel(int a)
 {
IO0CLR|=(CS1|CS2);
if(a) //PAGE 0
 {
IO0CLR|=CS1;
IO0SET|=CS2;
 }
else // PAGE 1
 {
IO0CLR|=CS2;
IO0SET|=CS1;
 }
 }
void lcd_ini()
 {
 IO0SET|=RST;
 page_sel(1);
 cmd(0Xb8);
 cmd(0X40);
 page_sel(0);
 cmd(0Xb8);
 cmd(0X40);
 }
void lcd_str(unsigned char *str)
 {
 while(*str!='\0')
 {
 lcd_display(*str);
 str++;
 }
 }

void pic(const unsigned char *ip); // function to print data on lcd

/* 128x64 image into bit form*/
const unsigned char mnb[1024] = {
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x04,0x04,0x04,0x04,0x04,0x00,0x00,0xE0,0xF0,
0xF0,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
0xFF,0xFF,0x00,0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x03,0x03,0x73,0x7F,0xFF,
0xEF,0xC0,0x00,0xFF,0xFF,0x00,0x00,0x00,0xF8,0xF8,0xF8,0x00,0x00,0xF8,0xF8,0x00,
0x00,0xE0,0xF0,0xF8,0x38,0xF8,0xF8,0xF8,0xE0,0x00,0x00,0xFC,0xFF,0xFF,0x03,0xF3,
0xF3,0xFF,0x3E,0x00,0x00,0xFB,0xFB,0xFB,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
0xFF,0xFF,0x00,0x00,0x00,0xFE,0xFE,0xFE,0xFE,0xFE,0x00,0x00,0x00,0xFE,0xFE,0xFE,
0xFE,0xBE,0x1E,0x1E,0xFE,0xFE,0xFE,0xFE,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x00,0x00,0x06,0x06,0x07,
0x03,0x03,0x00,0x07,0x07,0x00,0x00,0x00,0x03,0x03,0x07,0x06,0x06,0x07,0x03,0x00,
0x00,0x03,0x03,0x07,0x06,0x06,0x06,0x04,0x00,0x00,0x00,0x07,0x07,0x07,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x7F,
0x7F,0x7F,0x78,0x78,0x70,0x7F,0x7F,0x7F,0x7F,0x7F,0x00,0x00,0x00,0xFF,0xFF,0xFF,
0xFF,0xFF,0x00,0x00,0x7F,0x7F,0x7F,0x7F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF8,0xF8,0x18,0x98,0x98,0xF8,0xF8,0x00,0x00,
0x00,0x80,0xC0,0xC0,0xC0,0x00,0xD8,0xD8,0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0xC0,
0xC0,0x80,0x00,0x00,0xF8,0xF8,0xF8,0xC0,0xC0,0x00,0x00,0x80,0xC0,0xC0,0xC0,0xC0,
0x80,0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0xFF,0xFF,0xFF,
0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x3F,0x00,0x07,0x07,0x07,0x03,0x00,0x00,
0x3F,0x3F,0x3F,0x01,0x03,0x00,0x3F,0x3F,0x00,0x00,0x00,0x3F,0x3F,0x3F,0x01,0x01,
0x3F,0x3F,0x00,0x00,0x0F,0x1F,0x1F,0x39,0x39,0x00,0x1F,0x1F,0x31,0x37,0x37,0x27,
0x07,0x07,0x00,0x00,0x3F,0x3F,0x01,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x0F,0x0F,
0x0F,0x07,0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

int main()
 {
 PINSEL0=0X00000000; // select as gpio
 PINSEL1=0X00000000; // select as gpio
 IO0DIR=0XFFFFFFFF; // make direction as output
 lcd_ini(); // initilization of grafical lcd
 pic(mnb); // loading picture on grafical lcd
 while(1); // infinite loop
 return 0;
 }
void pic(const unsigned char *ip) // function to display image on lcd
 {
 int Page=0;
 int Column=0;
 for (Page = 0; Page < 8; Page++) 
 {
 page_sel(1); 
 cmd(0xb8 | Page);
 cmd(0x40);
 for (Column = 0; Column < 128; Column++)
 {
 if (Column == 64)
 { 
 page_sel(0); 
 cmd(0xb8 | Page);
 cmd(0x40); 
 }
 lcd_display(*ip++); 
 }
 }
 }
 
 